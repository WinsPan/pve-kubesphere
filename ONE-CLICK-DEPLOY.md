# PVE KubeSphere ä¸€é”®éƒ¨ç½²è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1ï¼šç›´æ¥ä¸‹è½½å¹¶æ‰§è¡Œï¼ˆæ¨èï¼‰

```bash
# ä¸‹è½½ä¸€é”®éƒ¨ç½²è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/WinsPan/pve-kubesphere/main/one-click-deploy.sh -o one-click-deploy.sh

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x one-click-deploy.sh

# æ‰§è¡Œä¸€é”®éƒ¨ç½²
./one-click-deploy.sh
```

### æ–¹æ³•2ï¼šä½¿ç”¨wgetä¸‹è½½

```bash
# ä¸‹è½½ä¸€é”®éƒ¨ç½²è„šæœ¬
wget https://raw.githubusercontent.com/WinsPan/pve-kubesphere/main/one-click-deploy.sh

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x one-click-deploy.sh

# æ‰§è¡Œä¸€é”®éƒ¨ç½²
./one-click-deploy.sh
```

### æ–¹æ³•3ï¼šè‡ªåŠ¨ç¡®è®¤éƒ¨ç½²ï¼ˆæ— éœ€æ‰‹åŠ¨ç¡®è®¤ï¼‰

```bash
# è‡ªåŠ¨ç¡®è®¤æ¨¡å¼ï¼Œè·³è¿‡ç¡®è®¤æ­¥éª¤
./one-click-deploy.sh -y
```

## ğŸ“‹ éƒ¨ç½²å†…å®¹

ä¸€é”®éƒ¨ç½²è„šæœ¬å°†è‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

### 1. ç¯å¢ƒå‡†å¤‡
- âœ… æ£€æŸ¥ç³»ç»Ÿè¦æ±‚
- âœ… å¤‡ä»½ç°æœ‰å®‰è£…
- âœ… ä»GitHubä¸‹è½½æœ€æ–°è„šæœ¬
- âœ… éªŒè¯å…³é”®æ–‡ä»¶

### 2. PVEç¯å¢ƒå‡†å¤‡
- âœ… ä¸‹è½½Debian 12æ¨¡æ¿
- âœ… åˆ›å»º3ä¸ªè™šæ‹Ÿæœº (8æ ¸16GB 300GB)
- âœ… é…ç½®ç½‘ç»œå’Œå­˜å‚¨
- âœ… è‡ªåŠ¨ä¿®å¤å¯åŠ¨é—®é¢˜

### 3. Kuberneteså®‰è£…
- âœ… å®‰è£…Kubernetes v1.29.7
- âœ… é…ç½®é›†ç¾¤ç½‘ç»œ
- âœ… éƒ¨ç½²CNIæ’ä»¶

### 4. KubeSphereå®‰è£…
- âœ… å®‰è£…KubeSphere v4.1.3
- âœ… é…ç½®å­˜å‚¨ç±»
- âœ… éƒ¨ç½²ç›‘æ§ç»„ä»¶

## ğŸ”§ è™šæ‹Ÿæœºé…ç½®

| èŠ‚ç‚¹ | IPåœ°å€ | é…ç½® | ç”¨é€” |
|------|--------|------|------|
| k8s-master | 10.0.0.10 | 8æ ¸16GB 300GB | ä¸»èŠ‚ç‚¹ |
| k8s-worker1 | 10.0.0.11 | 8æ ¸16GB 300GB | å·¥ä½œèŠ‚ç‚¹1 |
| k8s-worker2 | 10.0.0.12 | 8æ ¸16GB 300GB | å·¥ä½œèŠ‚ç‚¹2 |

## ğŸ“Š ç³»ç»Ÿè¦æ±‚

### PVEä¸»æœºè¦æ±‚
- **CPU**: è‡³å°‘24æ ¸ï¼ˆæ¨è32æ ¸ä»¥ä¸Šï¼‰
- **å†…å­˜**: è‡³å°‘48GBï¼ˆæ¨è64GBä»¥ä¸Šï¼‰
- **å­˜å‚¨**: è‡³å°‘1TBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„ç½‘ç»œè¿æ¥

### è½¯ä»¶è¦æ±‚
- **PVEç‰ˆæœ¬**: 8.x
- **æ“ä½œç³»ç»Ÿ**: Debian/Ubuntu
- **ç½‘ç»œ**: æ¡¥æ¥ç½‘ç»œvmbr0

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®
./one-click-deploy.sh

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
./one-click-deploy.sh -h

# è‡ªåŠ¨ç¡®è®¤éƒ¨ç½²
./one-click-deploy.sh -y
```

### é«˜çº§ç”¨æ³•

```bash
# æŒ‡å®šGitHubä»“åº“å’Œåˆ†æ”¯
./one-click-deploy.sh -r username/repo -b develop

# ç»„åˆä½¿ç”¨
./one-click-deploy.sh -r WinsPan/pve-kubesphere -b main -y
```

## ğŸ“± è®¿é—®ä¿¡æ¯

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š

### KubeSphereæ§åˆ¶å°
- **URL**: http://10.0.0.10:30880
- **ç”¨æˆ·å**: admin
- **å¯†ç **: P@88w0rd

### SSHè®¿é—®
```bash
# ä¸»èŠ‚ç‚¹
ssh root@10.0.0.10

# å·¥ä½œèŠ‚ç‚¹1
ssh root@10.0.0.11

# å·¥ä½œèŠ‚ç‚¹2
ssh root@10.0.0.12
```

### é»˜è®¤å¯†ç 
- **SSHå¯†ç **: kubesphere123
- **KubeSphereå¯†ç **: P@88w0rd

## ğŸ› ï¸ æ•…éšœæ’é™¤å·¥å…·

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·è¿›è¡Œæ•…éšœæ’é™¤ï¼š

### ç½‘ç»œè¯Šæ–­
```bash
cd pve-kubesphere-*
./test-network.sh
```

### SSHè¿æ¥è¯Šæ–­
```bash
cd pve-kubesphere-*
./diagnose-ssh.sh --all
```

### å¿«é€Ÿä¿®å¤
```bash
cd pve-kubesphere-*
./quick-fix.sh --all
```

### ä¸²å£ç»ˆç«¯ä¿®å¤
```bash
cd pve-kubesphere-*
./fix-serial-terminal.sh
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹æ–‡æ¡£ï¼š

- **README-KubeSphere.md**: è¯¦ç»†è¯´æ˜
- **QUICK-START.md**: å¿«é€Ÿå¼€å§‹
- **TROUBLESHOOTING.md**: æ•…éšœæ’é™¤
- **SERIAL-TERMINAL-FIX.md**: ä¸²å£ä¿®å¤
- **CONFIG-SUMMARY.md**: é…ç½®æ€»ç»“

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ‰§è¡Œç¯å¢ƒ**: å»ºè®®åœ¨PVEä¸»æœºä¸Šç›´æ¥æ‰§è¡Œ
2. **ç½‘ç»œè¿æ¥**: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
3. **èµ„æºå……è¶³**: ç¡®ä¿PVEä¸»æœºæœ‰è¶³å¤Ÿèµ„æº
4. **å¤‡ä»½æ•°æ®**: å»ºè®®å…ˆå¤‡ä»½é‡è¦æ•°æ®
5. **é˜²ç«å¢™**: ç¡®ä¿ç›¸å…³ç«¯å£å¼€æ”¾

## ğŸ”„ é‡æ–°éƒ¨ç½²

å¦‚æœéœ€è¦é‡æ–°éƒ¨ç½²ï¼Œå¯ä»¥ï¼š

```bash
# æ¸…ç†ç°æœ‰ç¯å¢ƒ
cd pve-kubesphere-*
./04-cleanup.sh

# é‡æ–°éƒ¨ç½²
./one-click-deploy.sh
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹æ•…éšœæ’é™¤æ–‡æ¡£
2. è¿è¡Œè¯Šæ–­å·¥å…·
3. æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—
4. æŸ¥çœ‹GitHub Issues

## ğŸ‰ å®Œæˆ

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°†æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„KubeSphereé›†ç¾¤ï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨å®¹å™¨ç¼–æ’å’Œäº‘åŸç”Ÿåº”ç”¨ç®¡ç†åŠŸèƒ½ï¼ 